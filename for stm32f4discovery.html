<html>
    <head>
        <title>Using the STM32f4Discovery board</title>
        <meta charset="UTF-8">
    </head>
    <body>
        <H1>Using the STM32f4Discovery board</H1>
        Axoloti is designed to run with the Axoloti Core board. But the STM32f4Discovery can be made to work too. 
        <H2>Modify the firmware</H2>
        <ul>
            <li>in firmware/Makefile, change "codec_ADAU1961.c" into "codec_CS43L22.c". Make sure your text editor respects unix-style newlines in the Makefile!
            <li>in firmware/axoloti_defines.h, uncomment the line "#define BOARD_STM32F4DISCOVERY 1", and comment the line "#define BOARD_AXOLOTI_V03 1"
            <li>recompile the firmware                
            <li>flash the firmware (using STLink)
        </ul>
        For firmware flashing, DFU-mode for flashing can be enabled - not by pressing S1 as documented for the Axoloti Core - but by connecting the BOOT0 pin to VDD during powerup or reset.
        <H2>Limitations</H2>
        <ul>            
            <li>SDcard cannot be used (pin conflict with the audio DAC)
            <li>GPIO pins PA4, PA5, PA6, PA7 and PC0 should not be used - they're not free for user I/O on the Discovery board.
            <li>no audio input available
            <li>the on-board microphone is not supported
            <li>the on-board accelerometer is not supported
            <li>the on-board LEDs are not supported
            <li>48kHz sample rate is a bit off : 47991.07031kHz (0.32 cent lower tuning)
        </ul>
    </body>
</html>
